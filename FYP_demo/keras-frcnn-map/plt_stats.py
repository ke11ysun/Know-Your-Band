import numpy as np
import matplotlib.pyplot as plt
import pprint
# num = 10
# a = [[2, 2],[3, 3],[4, 4]]
# a.append([5, 5])
# b = [1,2]
# b.append((num+1))
# c = [a, b]
# np.save('testnp.npy', c)
# print(np.load('testnp.npy'))
# # print(np.load('/users/sunjingxuan/desktop/models/retrain_loss_ap_plt_1.npy'))
all_stats = np.load('/users/sunjingxuan/desktop/models_70_0206/retrain_loss_ap_plt.npy')
epoch_list = all_stats[0]
epoch_list.pop(0)
epochs = np.array(epoch_list)
# print(epochs)
# print(epochs.shape)

all_loss = all_stats[1]
all_ap = all_stats[2]
losses_list = []
album_aps_list = []
logo_aps_list = []
maps_list = []

for i in range(len(all_loss)):
	losses_list.append(all_loss[i][4])
	album_aps_list.append(all_ap[i][0])
	logo_aps_list.append(all_ap[i][1])
	maps_list.append(all_ap[i][2])
	print(str(epoch_list[i]) + ', ' + str(all_loss[i][4]) + ', ' + str(all_ap[i][0]) + ', ' + str(all_ap[i][1]) + ', ' + str(all_ap[i][2]))

losses = np.array(losses_list)
album_aps = np.array(album_aps_list)
logo_aps = np.array(logo_aps_list)
maps = np.array(maps_list)

# plt.plot(epochs, losses)
# plt.plot(epochs, maps)
# plt.show()

fig = plt.figure()
ax = fig.add_subplot(111)

ax.plot(epochs, maps)
# for x, y in zip(epochs, maps):
#     text = str(x) + ', ' + str(y)
#     ax.text(x, y, text)

ax.set_xlabel("#epoch")
ax.set_ylabel("map")

plt.show()

# models_70_0206:
# 1, 4.48602412569, 1.0, 1.0, 1.0
# 2, 4.19125934243, 1.0, 0.852108295911, 0.926054147956
# 3, 4.0776154351, 0.551659175266, 0.525003797856, 0.538331486561
# 4, 3.85920864153, 0.840263676301, 0.297403721418, 0.568833698859
# 6, 3.84054422616, 0.26240181926, 0.311472933337, 0.286937376299
# 8, 3.70574262136, 0.307973398608, 0.528211893176, 0.418092645892
# 11, 3.60001166033, 0.368293871546, 0.392356991648, 0.380325431597
# 15, 3.44479748682, 0.379460726108, 0.479860882997, 0.429660804552
# 20, 3.38200796323, 0.272612458291, 0.351533955313, 0.312073206802
# 29, 3.37618319811, 0.568189697353, 0.608168313847, 0.5881790056
# 30, 3.35380126631, 0.457161313734, 0.639007217473, 0.548084265604
# 32, 3.24646840807, 0.6875748817, 0.609711589474, 0.648643235587
# 36, 3.06263387182, 0.668364884836, 0.516021378905, 0.59219313187
# 55, 3.04645474844, 0.695943143853, 0.591941812331, 0.643942478092
# 58, 2.97724982041, 0.663982033259, 0.725769917314, 0.694875975287
# 61, 2.97369070902, 0.751829147657, 0.655012462592, 0.703420805124
# 62, 2.90700996457, 0.703410052974, 0.672185482987, 0.687797767981
# 65, 2.89686328396, 0.727294211281, 0.688764544586, 0.708029377933 <- 
# 67, 2.89579637092, 0.694771993199, 0.620696006719, 0.657733999959

# models2_300_0212:
# 1, 3.97544729926, 1.0, 0.519026895267, 0.759513447634
# 2, 3.59006984356, 1.0, 0.254448000662, 0.627224000331
# 3, 3.43288159057, 0.590829120864, 0.270061789877, 0.430445455371
# 4, 3.41636206012, 0.459111611409, 0.233487685466, 0.346299648437
# 5, 3.35957552697, 0.359532963068, 0.358464630253, 0.358998796661
# 6, 3.04691347249, 0.2499141559, 0.352338598812, 0.301126377356
# 8, 3.02408241716, 0.262110982869, 0.392103627221, 0.327107305045
# 9, 2.99201539622, 0.313876986602, 0.401659934884, 0.357768460743
# 10, 2.97348227285, 0.286368795927, 0.366421105354, 0.32639495064
# 11, 2.96929625535, 0.448080314167, 0.45962520261, 0.453852758389
# 12, 2.84276835075, 0.335506884516, 0.388120164204, 0.36181352436
# 13, 2.78399500627, 0.466865935611, 0.540869540885, 0.503867738248
# 16, 2.59851643944, 0.407407653916, 0.459174930961, 0.433291292439
# 21, 2.51495119191, 0.550039690647, 0.498869390109, 0.524454540378
# 26, 2.49463864896, 0.585565926831, 0.457445616785, 0.521505771808
# 28, 2.4535390288, 0.585033817027, 0.466535412862, 0.525784614944
# 30, 2.40900648305, 0.564632342897, 0.493398623448, 0.529015483173
# 31, 2.38798276438, 0.605673932669, 0.564291005046, 0.584982468857
# 33, 2.32264132981, 0.610547827126, 0.470313453082, 0.540430640104
# 36, 2.28381734827, 0.67459944993, 0.500501849724, 0.587550649827
# 42, 2.25058210678, 0.658967871845, 0.54137844702, 0.600173159432
# 45, 2.22223154559, 0.692242006704, 0.510932917056, 0.60158746188
# 48, 2.19258625141, 0.734686301475, 0.52960538679, 0.632145844132
# 49, 2.13539479261, 0.725220625753, 0.508101311865, 0.616660968809
# 51, 2.03456121768, 0.701904543289, 0.527781482169, 0.614843012729
# 61, 2.01603432447, 0.663615209494, 0.655221932032, 0.659418570763
# 66, 2.00623746098, 0.77072555007, 0.596527463949, 0.68362650701
# 68, 1.94864478725, 0.740173992804, 0.605921052563, 0.673047522683
# 70, 1.93869906298, 0.71444788297, 0.597936950296, 0.656192416633
# 73, 1.86652671568, 0.769159982093, 0.653902432507, 0.7115312073
# 80, 1.86408951612, 0.723500425687, 0.590289712594, 0.656895069141
# 85, 1.85844637891, 0.735406700228, 0.648574704914, 0.691990702571
# 87, 1.73049377553, 0.727563369571, 0.626942952, 0.677253160785
# 96, 1.70049993705, 0.812834428136, 0.643530155562, 0.728182291849
# 103, 1.68036596264, 0.794758897438, 0.66048746447, 0.727623180954
# 109, 1.66910842554, 0.779800925928, 0.681113473909, 0.730457199919
# 113, 1.64074542271, 0.760183799448, 0.671996997948, 0.716090398698
# 124, 1.63251437975, 0.78297455441, 0.656776032883, 0.719875293646
# 125, 1.57083045753, 0.763980677463, 0.680703636786, 0.722342157124
# 132, 1.55319615773, 0.812473632845, 0.675394416462, 0.743934024654 <-
# 143, 1.48318088422, 0.784320669037, 0.673843253901, 0.729081961469
# 148, 1.48202876381, 0.778802630333, 0.668849141373, 0.723825885853
# 172, 1.46915189089, 0.786516028489, 0.693335342238, 0.739925685363
# 181, 1.42401295861, 0.785376237605, 0.69255545923, 0.738965848417
# 204, 1.41909478779, 0.78857095312, 0.667385771863, 0.727978362492
# 211, 1.37275927728, 0.814064204169, 0.733884851467, 0.773974527818 <- all best
# 279, 1.34752395183, 0.802779202506, 0.70426269611, 0.753520949308
# 287, 1.2770022666, 0.77830066906, 0.687304029032, 0.732802349046

# models_aug2_300_0213:
# 1, 5.1008598998, 1.0, 1.0, 1.0
# 2, 4.86152580073, 1.0, 1.0, 1.0
# 3, 4.84559659473, 1.0, 1.0, 1.0
# 4, 4.75755598912, 0.58293946699, 0.943966636008, 0.763453051499
# 5, 4.65130125762, 0.149173672594, 0.307235247149, 0.228204459871
# 7, 4.50504513771, 0.208227304246, 0.517683251546, 0.362955277896
# 8, 4.4424483706, 0.233762441142, 0.326281058513, 0.280021749827
# 12, 4.36651992897, 0.21963671937, 0.415070832868, 0.317353776119
# 16, 4.28628790102, 0.280282109933, 0.556908297936, 0.418595203935
# 21, 4.25316739559, 0.35396082489, 0.449465877292, 0.401713351091
# 27, 4.14568710654, 0.354629471449, 0.591014610915, 0.472822041182
# 34, 4.14281941833, 0.488101507931, 0.455002810664, 0.471552159297
# 35, 4.14249474431, 0.562618275127, 0.507591137801, 0.535104706464
# 36, 4.0290435189, 0.457346827839, 0.349785377717, 0.403566102778
# 44, 4.00160974863, 0.508079938873, 0.658725972513, 0.583402955693
# 51, 3.913629733, 0.5563884665, 0.544682004393, 0.550535235447
# 55, 3.85420280501, 0.446136689761, 0.520316237484, 0.483226463623
# 65, 3.60941671152, 0.524136844995, 0.476275269033, 0.500206057014
# 66, 3.47395182742, 0.557438944215, 0.607983657799, 0.582711301007
# 68, 3.30131442434, 0.612769648447, 0.503836393266, 0.558303020856
# 79, 3.24207707041, 0.677753869877, 0.496775228878, 0.587264549378
# 85, 3.14561094279, 0.601436789005, 0.589968970529, 0.595702879767
# 94, 3.01604124569, 0.609124244308, 0.558402545415, 0.583763394862
# 131, 2.99977806332, 0.683572402341, 0.617726071148, 0.650649236744
# 133, 2.97918427417, 0.680396694873, 0.698298562163, 0.689347628518
# 147, 2.96923808126, 0.746102522789, 0.694544472202, 0.720323497496
# 157, 2.96181028495, 0.729620885713, 0.635944798156, 0.682782841935
# 170, 2.87628670374, 0.700452704006, 0.655219985031, 0.677836344518
# 180, 2.83894668401, 0.675058027092, 0.678051951999, 0.676554989546
# 229, 2.8341497039, 0.729621503113, 0.691831425284, 0.710726464198
# 231, 2.79736003051, 0.757737038077, 0.692213815607, 0.724975426842 <-
# 255, 2.77443036426, 0.704459580282, 0.725940069566, 0.715199824924
# 257, 2.73512437473, 0.772378390584, 0.670659974028, 0.721519182306
# 300, 2.71930743652, 0.733982540189, 0.703779698033, 0.718881119111
# 307, 2.66465598715, 0.75902475123, 0.696653130193, 0.727838940712 <- 
# 328, 2.66429826828, 0.805768329029, 0.568404424071, 0.68708637655
